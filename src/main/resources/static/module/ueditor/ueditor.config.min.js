(function(){window.UEDITOR_HOME_URL="/module/ueditor/";var URL=window.UEDITOR_HOME_URL||getUEBasePath();window.UEDITOR_CONFIG={UEDITOR_HOME_URL:URL,serverUrl:URL+"php/controller.php",toolbars:[["bold","italic","underline","strikethrough","removeformat","forecolor","backcolor","autotypeset","paragraph","fontfamily","fontsize","lineheight","insertorderedlist","insertunorderedlist","|","justifyleft","justifycenter","justifyright","link","unlink","undo","redo","insertimage","inserttable","emotion","preview","template","source","fullscreen"]],elementPathEnabled:false,zIndex:1,autosave:false,doctypeFix:true,emotionLocalization:true,"insertorderedlist":{"num":"1,2,3..."},"insertunorderedlist":{"disc":""},allowDivTransToP:false,disabledTableInTable:false,shortcutMenu:["fontfamily","fontsize","bold","italic","underline","forecolor","backcolor","insertorderedlist","insertunorderedlist"],wordCount:false,autoHeightEnabled:false};function getUEBasePath(docUrl,confUrl){return getBasePath(docUrl||self.document.URL||self.location.href,confUrl||getConfigFilePath())}function getConfigFilePath(){var configPath=document.getElementsByTagName("script");return configPath[configPath.length-1].src}function getBasePath(docUrl,confUrl){var basePath=confUrl;if(/^(\/|\\\\)/.test(confUrl)){basePath=/^.+?\w(\/|\\\\)/.exec(docUrl)[0]+confUrl.replace(/^(\/|\\\\)/,"")}else{if(!/^[a-z]+:/i.test(confUrl)){docUrl=docUrl.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,"");basePath=docUrl+""+confUrl}}return optimizationPath(basePath)}function optimizationPath(path){var protocol=/^[a-z]+:\/\//.exec(path)[0],tmp=null,res=[];path=path.replace(protocol,"").split("?")[0].split("#")[0];path=path.replace(/\\/g,"/").split(/\//);path[path.length-1]="";while(path.length){if((tmp=path.shift())===".."){res.pop()}else{if(tmp!=="."){res.push(tmp)}}}return protocol+res.join("/")}window.UE={getUEBasePath:getUEBasePath};window.getEditorInstances=function(id){var editor=null;try{editor=window.UE.getEditor("TD_HTML_EDITOR_"+id)}catch(e){}return editor};window.getEditorText=function(id){var editor=getEditorInstances(id);return editor?editor.getContentTxt():""};window.getEditorHtml=function(id){var editor=getEditorInstances(id);return editor?editor.getContent():""};window.setEditorHtml=function(id,html){var editor=getEditorInstances(id);return editor?editor.setContent(html):""};window.checkEditorDirty=function(id){var editor=getEditorInstances(id);return editor.dirty?editor.dirty:""};window.resetEditorDirty=function(id){var editor=getEditorInstances(id);editor.dirty=false;return editor.dirty};window.insertEditorImage=function(id,src){if(isUndefined(id)){id="CONTENT"}var editor=getEditorInstances(id);editor.execCommand("insertimage",{src:src})};window.addEditorEvent=function(editor,event,handler){editor.document.on(editor,event,handler)};window.reg_replace=function(str,to_null,tagName){var re=new RegExp("<([\\s|/]*?)"+tagName+"([\\s\\S]*?)>","ig");return str.replace(re,(to_null?"":"&lt;$1"+tagName+"$2&gt;"))};window.replaceEditor=function(container,prop){var id=container.getAttribute("name");container.setAttribute("id",id);container.setAttribute("class","");var newprop={};newprop.initialFrameWidth=prop.width;newprop.initialFrameHeight=prop.height;if(prop.toolbar=="Feedback"){newprop.toolbars=[["bold","italic","underline","|","link","unlink","|","fontfamily","fontsize","forecolor","backcolor"]]}return UE.getEditor(id,newprop)};window.insertEditorHtml=function(id,value){var editor=getEditorInstances(id);editor.execCommand("inserthtml",value)};window.setHtml=function(id){var editor=getEditorInstances(id);return editor?editor.setContent(""):""};window.setReadOnly=function(id){var editor=getEditorInstances(id);return editor?editor.setDisabled():""}})();